<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head><meta charset="UTF-8"/></head>
    <body>
		<th:block th:fragment="frm-depart-frag"> 
		 	<div th:if="${errorMsg}" class="col-md-12">
				<div class="alert alert-danger">
					<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
					<strong>Erreur!</strong> <span th:text="${errorMsg}"></span>
				</div>
			</div>   

			
			<div class="panel panel-default">
				<div class="panel-heading">
					Nouveau départ
					<span class="pull-right">
						<form class="form-inline" action="/staffadmin/departs">
							<div class="form-group">
								<input type="text" name="matricule" class="form-control" id="matricule" placeholder="matricule"/>
								<button type="submit" class="btn btn-primary"><i class="glyphicon glyphicon-search"></i></button>
							</div>
						</form>
					</span>
				</div>
			<div class="panel-body">

				<form method="post" enctype="multipart/form-data" th:object="${depart}" th:action="@{/staffadmin/departs/save}" th:if="${depart.agent!=null}">
						<input th:field="*{agent.idAgent}" type="hidden">
						<div class="col-md-6">
							<div class="form-group">
								<label>Nom</label> 
								<input class="form-control" readonly="readonly" type="text" th:field="*{agent.nom}" />
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<label>Prénom</label> 
								<input class="form-control" readonly="readonly" type="text" th:field="*{agent.prenom}" />
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<label>Matricule</label> 
								<input class="form-control" readonly="readonly" type="text" th:field="*{agent.matricule}"/>
							</div>
						</div>

						<div class="col-md-6">
							<div class="form-group">
								<label>Motif</label> 
								<input class="form-control" type="text" th:field="*{motif}" />
							</div>
						</div>

						<div class="col-md-6">
							<div class="form-group">
								<label>Type de départ</label>
								<select class="form-control typeDepart"  type="text" th:field="*{typeDepart.id}" >

									<option value=""></option>
									<option th:each="typeDepart:${typeDeparts}" th:value="${typeDepart.id}" th:text="${typeDepart.nomType}"></option>
								</select>
							</div>
						</div>

						<div class="col-md-6">
							<div class="form-group">
								<label>Date du départ</label> 
								<input class="form-control" type="date" th:field="*{dateDepart}" />
							</div>
						</div>

						<div class="col-md-12">
							<div class="form-group">
								<label>Acte de sortie</label>
								<input type="file" class="form-control" th:field="*{acteAdministratif}" />
							</div>
						</div>
					<th:bloc th:replace="depart/form/frm-confirmation-depart-modal-frag.html::frm-confirmation-depart-modal-frag"></th:bloc>
				</form>
			</div>
		</div>						
		            
      	</th:block>
    </body>
</html>